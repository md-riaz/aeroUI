@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================
   Base resets
   ============================================================= */
@layer base {
  :root {
    --bs-gutter-x: 1.5rem;
    --bs-gutter-y: 0;
  }

  *,
  ::before,
  ::after {
    @apply box-border;
  }

  html {
    @apply h-full scroll-smooth;
  }

  body {
    @apply m-0 min-h-screen bg-slate-50 text-slate-900 antialiased;
  }

  a {
    @apply text-sky-600 no-underline hover:text-sky-500;
  }

  button,
  input,
  select,
  textarea {
    @apply bg-transparent text-inherit;
  }

  button:focus,
  [type="button"]:focus,
  [type="submit"]:focus {
    @apply outline-none;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-semibold tracking-tight text-slate-900;
  }

  p {
    @apply text-slate-600 leading-relaxed;
  }

  small,
  .text-muted {
    @apply text-slate-500;
  }

  .visually-hidden {
    @apply sr-only;
  }

  @media (prefers-reduced-motion: reduce) {
    *,
    ::before,
    ::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/* =============================================================
   Layout helpers (Bootstrap compatible)
   ============================================================= */
@layer components {
  .container {
    @apply w-full px-4 mx-auto;
  }

  @screen sm {
    .container {
      max-width: 540px;
    }
  }

  @screen md {
    .container {
      max-width: 720px;
    }
  }

  @screen lg {
    .container {
      max-width: 960px;
    }
  }

  @screen xl {
    .container {
      max-width: 1140px;
    }
  }

  @screen 2xl {
    .container {
      max-width: 1320px;
    }
  }

  .row {
    @apply flex flex-wrap;
    margin-top: calc(var(--bs-gutter-y) * -1);
    margin-right: calc(var(--bs-gutter-x) * -0.5);
    margin-left: calc(var(--bs-gutter-x) * -0.5);
  }

  .row > * {
    @apply flex-shrink-0 w-full max-w-full;
    margin-top: var(--bs-gutter-y);
    padding-right: calc(var(--bs-gutter-x) * 0.5);
    padding-left: calc(var(--bs-gutter-x) * 0.5);
  }

  .col {
    @apply flex-1;
  }

  .g-0 {
    --bs-gutter-x: 0;
    --bs-gutter-y: 0;
  }

  .g-3 {
    --bs-gutter-x: 1rem;
    --bs-gutter-y: 1rem;
  }

  .g-4 {
    --bs-gutter-x: 1.5rem;
    --bs-gutter-y: 1.5rem;
  }
}

/* =============================================================
   Buttons
   ============================================================= */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg border border-transparent bg-slate-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition-colors duration-150 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-500 disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-5 py-3 text-base;
  }

  .btn-primary {
    @apply bg-sky-600 text-white hover:bg-sky-500 focus-visible:outline-sky-600;
  }

  .btn-secondary {
    @apply bg-slate-100 text-slate-900 border border-slate-200 hover:bg-slate-200 focus-visible:outline-slate-400;
  }

  .btn-success {
    @apply bg-emerald-500 text-white hover:bg-emerald-400 focus-visible:outline-emerald-500;
  }

  .btn-danger {
    @apply bg-rose-500 text-white hover:bg-rose-400 focus-visible:outline-rose-500;
  }

  .btn-warning {
    @apply bg-amber-400 text-slate-900 hover:bg-amber-300 focus-visible:outline-amber-500;
  }

  .btn-info {
    @apply bg-sky-500 text-white hover:bg-sky-400 focus-visible:outline-sky-500;
  }

  .btn-outline,
  .btn-outline-primary {
    @apply border border-sky-500 bg-transparent text-sky-600 hover:bg-sky-50;
  }

  .btn-ghost {
    @apply border border-transparent bg-transparent text-slate-700 hover:bg-slate-100;
  }

  .btn-link {
    @apply bg-transparent p-0 text-sky-600 underline-offset-4 hover:underline;
  }

  .btn-close {
    @apply inline-flex h-8 w-8 items-center justify-center rounded-full border border-transparent text-slate-500 transition hover:bg-slate-100 hover:text-slate-700;
  }

  .btn-group {
    @apply inline-flex rounded-lg shadow-sm;
  }

  .btn-group > .btn {
    @apply rounded-none first:rounded-l-lg last:rounded-r-lg;
  }
}

/* =============================================================
   Cards
   ============================================================= */
@layer components {
  .card {
    @apply flex flex-col overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm;
  }

  .card-header {
    @apply border-b border-slate-200 bg-slate-50 px-6 py-4;
  }

  .card-footer {
    @apply border-t border-slate-200 bg-slate-50 px-6 py-4 flex items-center gap-2;
  }

  .card-body {
    @apply px-6 py-5;
  }

  .card-title {
    @apply text-lg font-semibold text-slate-900;
  }

  .card-text {
    @apply text-sm text-slate-600;
  }
}

/* =============================================================
   Alerts & Badges
   ============================================================= */
@layer components {
  .alert {
    @apply relative flex w-full items-start gap-3 rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 shadow-sm;
  }

  .alert-primary {
    @apply border-sky-200 bg-sky-50 text-sky-800;
  }

  .alert-success {
    @apply border-emerald-200 bg-emerald-50 text-emerald-700;
  }

  .alert-warning {
    @apply border-amber-200 bg-amber-50 text-amber-700;
  }

  .alert-danger {
    @apply border-rose-200 bg-rose-50 text-rose-700;
  }

  .alert-info {
    @apply border-sky-200 bg-sky-50 text-sky-700;
  }

  .alert-dismissible {
    @apply pr-12;
  }

  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold;
  }

  .badge-primary {
    @apply bg-sky-500 text-white;
  }

  .badge-secondary {
    @apply bg-slate-200 text-slate-800;
  }

  .badge-success {
    @apply bg-emerald-500 text-white;
  }

  .badge-warning {
    @apply bg-amber-400 text-slate-900;
  }

  .badge-danger {
    @apply bg-rose-500 text-white;
  }

  .badge-info {
    @apply bg-sky-400 text-white;
  }

  .badge-outline {
    @apply border border-current bg-transparent;
  }
}

/* =============================================================
   Forms
   ============================================================= */
@layer components {
  .form-label {
    @apply mb-2 block text-sm font-medium text-slate-700;
  }

  .form-text {
    @apply text-xs text-slate-500;
  }

  .form-control,
  .form-select,
  textarea.form-control {
    @apply block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/30 disabled:cursor-not-allowed disabled:bg-slate-100;
  }

  textarea.form-control {
    @apply min-h-[120px];
  }

  .form-select {
    @apply pr-10;
  }

  .form-check {
    @apply flex items-center gap-3;
  }

  .form-check-input {
    @apply h-4 w-4 rounded border-slate-300 text-sky-600 focus:ring-sky-500;
  }

  .form-check-input[type="radio"] {
    @apply rounded-full;
  }

  .form-check-label {
    @apply text-sm text-slate-700;
  }

  .input-group {
    @apply relative flex w-full items-stretch;
  }

  .input-group > .form-control {
    @apply rounded-none first:rounded-l-lg last:rounded-r-lg;
  }

  .input-group-text {
    @apply inline-flex items-center rounded-lg border border-slate-300 bg-slate-100 px-3 text-sm text-slate-600;
  }
}

/* =============================================================
   Tables
   ============================================================= */
@layer components {
  .table {
    @apply min-w-full divide-y divide-slate-200 text-left text-sm;
  }

  .table > :not(caption) > * > * {
    @apply px-4 py-3 align-middle;
  }

  .table thead tr {
    @apply bg-slate-100 text-slate-700;
  }

  .table tbody tr {
    @apply divide-y divide-slate-200;
  }

  .table tbody tr:nth-child(even) {
    @apply bg-slate-50;
  }
}

/* =============================================================
   Dropdowns
   ============================================================= */
@layer components {
  .dropdown-menu {
    @apply z-50 min-w-[12rem] rounded-xl border border-slate-200 bg-white p-2 text-sm text-slate-700 shadow-lg;
  }

  .dropdown-item {
    @apply flex w-full items-center rounded-lg px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100;
  }

  .dropdown-divider {
    @apply my-2 h-px bg-slate-200;
  }
}

/* =============================================================
   Breadcrumb, List group & Pagination
   ============================================================= */
@layer components {
  .breadcrumb {
    @apply flex flex-wrap gap-2 text-sm text-slate-500;
  }

  .breadcrumb-item + .breadcrumb-item::before {
    @apply text-slate-400 content-['/'];
    margin: 0 0.5rem;
  }

  .breadcrumb-item.active {
    @apply text-slate-700 font-medium;
  }

  .list-group {
    @apply divide-y divide-slate-200 overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm;
  }

  .list-group-item {
    @apply block px-4 py-3 text-sm text-slate-700;
  }

  .list-group-item-action {
    @apply transition hover:bg-slate-100;
  }

  .list-group-item.active {
    @apply bg-sky-600 text-white;
  }

  .pagination {
    @apply inline-flex items-center gap-1 rounded-xl border border-slate-200 bg-white p-1 shadow-sm;
  }

  .page-item {
    @apply inline-flex;
  }

  .page-link {
    @apply inline-flex min-w-[2.5rem] items-center justify-center rounded-lg px-3 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100;
  }

  .page-item.active .page-link {
    @apply bg-sky-600 text-white shadow-sm;
  }
}

/* =============================================================
   Progress
   ============================================================= */
@layer components {
  .progress {
    @apply h-3 w-full overflow-hidden rounded-full bg-slate-200;
  }

  .progress-bar {
    @apply h-full bg-sky-500 transition-all;
  }
}

/* =============================================================
   Navs & Tabs
   ============================================================= */
@layer components {
  .nav {
    @apply flex flex-wrap items-center gap-2;
  }

  .nav-tabs {
    @apply border-b border-slate-200 pb-2;
  }

  .nav-link {
    @apply inline-flex items-center rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100;
  }

  .nav-tabs .nav-link {
    @apply rounded-b-none border border-transparent border-b-2 border-b-transparent text-slate-600;
  }

  .nav-tabs .nav-link.active {
    @apply border-slate-200 border-b-sky-500 bg-white text-slate-900 shadow-sm;
  }

  .nav-pills .nav-link {
    @apply rounded-full;
  }

  .nav-pills .nav-link.active {
    @apply bg-sky-600 text-white shadow-sm;
  }

  .nav-link.disabled {
    @apply pointer-events-none text-slate-300;
  }
}

/* =============================================================
   Spinners
   ============================================================= */
@layer components {
  @keyframes spinner-border {
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes spinner-grow {
    0% {
      transform: scale(0.5);
      opacity: 0.3;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  .spinner-border {
    @apply inline-block h-10 w-10 animate-[spinner-border_0.75s_linear_infinite] rounded-full border-4 border-sky-200 border-t-sky-600;
  }

  .spinner-border-sm {
    @apply h-6 w-6 border-2;
  }

  .spinner-grow {
    @apply inline-block h-10 w-10 animate-[spinner-grow_0.9s_ease-in-out_infinite] rounded-full bg-sky-500;
  }
}

/* =============================================================
   Collapse & Accordion
   ============================================================= */
@layer components {
  .collapse:not(.show) {
    @apply hidden;
  }

  .collapsing {
    @apply overflow-hidden transition-[height] duration-300 ease-in-out;
  }

  .accordion {
    @apply divide-y divide-slate-200 overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm;
  }

  .accordion-item {
    @apply border-none;
  }

  .accordion-button {
    @apply flex w-full items-center justify-between bg-white px-6 py-4 text-left text-sm font-medium text-slate-700 transition hover:bg-slate-50;
  }

  .accordion-button::after {
    @apply ml-4 h-4 w-4 rotate-0 transform transition;
    content: "";
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7' /%3e%3c/svg%3e");
    background-size: 1rem 1rem;
  }

  .accordion-button:not(.collapsed)::after {
    @apply -rotate-180;
  }

  .accordion-button.collapsed {
    @apply text-slate-600;
  }

  .accordion-body {
    @apply px-6 py-4 text-sm text-slate-600;
  }
}

/* =============================================================
   Modal & Offcanvas
   ============================================================= */
@layer components {
  .modal {
    @apply fixed inset-0 z-50 hidden overflow-y-auto overflow-x-hidden;
  }

  .modal-dialog {
    @apply relative mx-auto my-12 w-full max-w-2xl;
  }

  .modal-content {
    @apply overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-2xl;
  }

  .modal-header,
  .modal-footer {
    @apply flex items-center justify-between gap-4 border-b border-slate-200 bg-slate-50 px-6 py-4;
  }

  .modal-footer {
    @apply border-t;
  }

  .modal-body {
    @apply px-6 py-5 text-sm text-slate-600;
  }

  .modal.show {
    @apply block;
  }

  .modal-backdrop {
    @apply fixed inset-0 z-40 bg-slate-900/60;
  }

  .modal.fade .modal-dialog {
    @apply translate-y-4 opacity-0 transition duration-300 ease-out;
  }

  .modal.fade.show .modal-dialog {
    @apply translate-y-0 opacity-100;
  }

  .offcanvas {
    @apply fixed inset-y-0 z-50 flex max-w-full flex-col bg-white shadow-2xl transition-transform duration-300;
  }

  .offcanvas-start {
    @apply left-0 -translate-x-full;
  }

  .offcanvas-end {
    @apply right-0 translate-x-full;
  }

  .offcanvas.show.offcanvas-start {
    @apply translate-x-0;
  }

  .offcanvas.show.offcanvas-end {
    @apply translate-x-0;
  }
}

/* =============================================================
   Tables helpers
   ============================================================= */
@layer utilities {
  .text-primary {
    @apply text-sky-600;
  }

  .text-secondary {
    @apply text-slate-500;
  }

  .text-success {
    @apply text-emerald-600;
  }

  .text-warning {
    @apply text-amber-500;
  }

  .text-danger {
    @apply text-rose-600;
  }

  .text-info {
    @apply text-sky-500;
  }

  .bg-primary {
    @apply bg-sky-500;
  }

  .bg-secondary {
    @apply bg-slate-200;
  }

  .bg-success {
    @apply bg-emerald-500;
  }

  .bg-warning {
    @apply bg-amber-400;
  }

  .bg-danger {
    @apply bg-rose-500;
  }

  .bg-info {
    @apply bg-sky-400;
  }

  .bg-muted {
    @apply bg-slate-100;
  }

  .shadow-sm {
    box-shadow: theme('boxShadow.sm');
  }

  .shadow {
    box-shadow: theme('boxShadow.DEFAULT');
  }

  .shadow-lg {
    box-shadow: theme('boxShadow.lg');
  }

  .text-end,
  .text-right {
    text-align: right;
  }

  .text-start {
    text-align: left;
  }

  .text-center {
    text-align: center;
  }

  .d-flex {
    display: flex;
  }

  .d-none {
    display: none;
  }

  .d-inline-flex {
    display: inline-flex;
  }

  .justify-content-between {
    justify-content: space-between;
  }

  .align-items-center {
    align-items: center;
  }

  .gap-2 {
    gap: 0.5rem;
  }

  .mt-2 {
    margin-top: 0.5rem;
  }

  .mt-3 {
    margin-top: 0.75rem;
  }

  .mt-4 {
    margin-top: 1rem;
  }

  .mb-0 {
    margin-bottom: 0;
  }

  .mb-2 {
    margin-bottom: 0.5rem;
  }

  .mb-3 {
    margin-bottom: 0.75rem;
  }

  .mb-4 {
    margin-bottom: 1rem;
  }

  .mb-6 {
    margin-bottom: 1.5rem;
  }

  .py-3 {
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
  }

  .px-3 {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  .rounded {
    border-radius: 0.75rem;
  }
}
